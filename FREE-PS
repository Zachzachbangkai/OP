local TeleportService = game:GetService("TeleportService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")

local remote = Instance.new("RemoteEvent")
remote.Name = "ReservedServerCode"
remote.Parent = ReplicatedStorage

-- Player requests a reserved server (could be tied to a button)
remote.OnServerEvent:Connect(function(player, action)
    if action == "RequestReserved" then
        local accessCode, serverId = TeleportService:ReserveServer(game.PlaceId)
        print("Reserved server for", player.Name, "code:", accessCode, "serverId:", serverId)
        -- Send the access code back to the requester
        remote:FireClient(player, accessCode)
    end
end)
